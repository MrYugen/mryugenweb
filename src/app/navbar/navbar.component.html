<header
    class="fixed top-0 w-full z-50 bg-[color:var(--color-bg)] dark:bg-bg/80 border-b border-white/20 backdrop-blur-md transition-colors duration-300 h-16">
    <nav class="max-w-6xl mx-auto flex items-center justify-between p-4 w-full overflow-x-hidden">
        <!-- Logo clickable, cambia según tema -->
        <a routerLink="/">
            <img src="assets/images/logo_mryugen.svg" alt="Mr. Yugen logo" class="h-8 sm:h-10 w-auto" />
        </a>
        <ul class="hidden md:flex space-x-6 drop-shadow-sm" [ngClass]="isDarkMode ? 'text-white' : 'text-text'">
            <li><a [routerLink]="['/']" fragment="hero" class="hover:text-cta" (click)="mobileOpen=false">Home</a></li>
            <li><a [routerLink]="['/']" fragment="skills" class="hover:text-cta"
                    (click)="mobileOpen=false">Habilidades</a></li>
            <li><a [routerLink]="['/']" fragment="portfolio" class="hover:text-cta"
                    (click)="mobileOpen=false">Portfolio</a></li>
            <li><a routerLink="/blog" class="hover:text-cta" (click)="mobileOpen=false">Blog</a></li>
            <li><a routerLink="/automation" class="hover:text-cta" (click)="mobileOpen=false">Automatización</a></li>
            <li><a [routerLink]="['/']" fragment="contact" class="hover:text-cta"
                    (click)="mobileOpen=false">Contacto</a></li>
        </ul>
        <!-- Toggle / Mobile hamburger -->
        <div class="flex items-center space-x-4">
            <button (click)="toggleTheme.emit()" class="focus:outline-none" [attr.aria-pressed]="isDarkMode"
                [attr.aria-label]="isDarkMode ? 'Activar modo claro' : 'Activar modo oscuro'">
                <span class="theme-toggle" [class.is-dark]="isDarkMode">
                    <img class="icon sun" src="assets/images/icons/theme-sun.png" alt="" aria-hidden="true" />
                    <img class="icon moon" src="assets/images/icons/theme-moon.png" alt="" aria-hidden="true" />
                </span>
            </button>
            <button class="md:hidden" (click)="toggleMenu()"
                [attr.aria-label]="mobileOpen ? 'Cerrar menú' : 'Abrir menú'" [attr.aria-expanded]="mobileOpen">
                <!-- Ícono hamburguesa -->
                <svg class="w-6 h-6" fill="none" stroke="currentColor">
                    <path *ngIf="!mobileOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16" />
                    <path *ngIf="mobileOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </nav>
    <!-- Mobile menu fullscreen -->
    <div *ngIf="mobileOpen" class="fixed inset-0 z-50 bg-bg flex flex-col items-center justify-center gap-8 text-xl">
        <a href="#hero" (click)="mobileOpen=false" class="block w-full text-center">Home</a>
        <a href="#skills" (click)="mobileOpen=false" class="block w-full text-center">Skills</a>
        <a href="#portfolio" (click)="mobileOpen=false" class="block w-full text-center">Portfolio</a>
        <a [routerLink]="['/blog']" (click)="mobileOpen=false" class="block w-full text-center">Blog</a>
        <a [routerLink]="['/automation']" (click)="mobileOpen=false" class="block w-full text-center">Automatización</a>
        <a href="#contact" (click)="mobileOpen=false" class="block w-full text-center">Contacto</a>
    </div>
</header>