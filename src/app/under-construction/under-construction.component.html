<div [class.dark]="isDarkMode"
  class="relative min-h-[80vh] flex items-center justify-center py-32 px-6 overflow-hidden bg-bg text-text transition-colors duration-300">

  <div class="absolute inset-0 z-0">
    <div class="absolute inset-0 z-10"></div> <img [src]="backgroundImage" alt="Fondo Under Construction"
      class="w-full h-full object-cover filter scale-105">
    <div class="absolute inset-0 bg-gradient-to-b from-bg via-transparent to-bg z-10"></div>
  </div>

  <app-navbar class="hidden md:block fixed top-0 w-full z-50" [isDarkMode]="isDarkMode"
    (toggleTheme)="toggleTheme()"></app-navbar>
  <app-mobile-navbar class="block md:hidden fixed top-0 w-full z-50" [isDarkMode]="isDarkMode"
    (toggleTheme)="toggleTheme()"></app-mobile-navbar>

  <div
    class="relative z-20 w-full max-w-3xl p-8 md:p-12 bg-black/50 dark:bg-black/50 backdrop-blur-xl border border-white/10 rounded-[2rem] shadow-2xl text-center">

    <div class="mb-6 text-5xl animate-bounce">ğŸƒ</div>

    <h1 class="text-3xl md:text-5xl font-black text-white mb-2 leading-tight uppercase tracking-wider">
      {{ title }}
    </h1>

    <h2 class="text-xl text-cta font-bold mb-6 tracking-widest uppercase">
      {{ subtitle }}
    </h2>

    <p class="text-lg md:text-xl text-gray-300 mb-10 leading-relaxed max-w-xl mx-auto">
      {{ message }}
    </p>

    <form (ngSubmit)="onNotify(subscribeForm)" #subscribeForm="ngForm" novalidate class="max-w-md mx-auto space-y-4">

      <div class="relative">
        <input type="email" name="email" [(ngModel)]="email" #emailCtrl="ngModel" required email
          placeholder="Tu mejor email..."
          class="w-full bg-white/10 border border-white/20 rounded-full px-6 py-4 text-white placeholder:text-white/40 focus:outline-none focus:border-cta focus:ring-1 focus:ring-cta transition-all text-center md:text-left"
          [attr.aria-invalid]="emailCtrl.invalid && emailCtrl.touched ? true : null">

        <button type="submit" [disabled]="subscribeForm.invalid || isSubmitting"
          class="w-full md:w-auto md:absolute md:top-1.5 md:right-1.5 mt-4 md:mt-0 px-8 py-3 bg-cta text-white font-bold rounded-full hover:bg-white hover:text-cta transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 shadow-lg">
          {{ isSubmitting ? 'Enviando...' : 'Â¡AvÃ­same!' }}
        </button>
      </div>

      <div *ngIf="emailCtrl.invalid && emailCtrl.touched"
        class="text-red-400 text-sm mt-2 text-left px-4 animate-pulse">
        <span *ngIf="emailCtrl.errors?.['required']">El email es obligatorio para entrar.</span>
        <span *ngIf="emailCtrl.errors?.['email']">Mmm, revisa el formato (nombre&#64;dominio.com).</span>
      </div>

    </form>

    <div class="mt-8 space-y-2" aria-live="polite">
      <p *ngIf="submitSuccessMessage"
        class="text-green-400 font-bold text-lg animate-fade-in bg-green-500/10 py-2 px-4 rounded-full inline-block border border-green-500/20">
        {{ submitSuccessMessage }}
      </p>
      <p *ngIf="submitErrorMessage"
        class="text-red-400 font-bold bg-red-500/10 py-2 px-4 rounded-full inline-block border border-red-500/20">
        {{ submitErrorMessage }}
      </p>
    </div>

    <p class="text-xs text-gray-400 mt-8">
      Al suscribirte aceptas nuestra
      <a routerLink="/politica-privacidad" target="_blank"
        class="text-cta hover:underline hover:text-white transition-colors">polÃ­tica de privacidad</a>.
      Cero spam, solo hype.
    </p>

  </div>
</div>